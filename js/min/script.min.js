! function($) {
    "use strict";
    var escape = /["\\\x00-\x1f\x7f-\x9f]/g,
        meta = {
            "\b": "\\b",
            "	": "\\t",
            "\n": "\\n",
            "\f": "\\f",
            "\r": "\\r",
            '"': '\\"',
            "\\": "\\\\"
        },
        hasOwn = Object.prototype.hasOwnProperty;
    $.toJSON = "object" == typeof JSON && JSON.stringify ? JSON.stringify : function(e) {
        if (null === e) return "null";
        var t, a, n, r, i = $.type(e);
        if ("undefined" === i) return void 0;
        if ("number" === i || "boolean" === i) return String(e);
        if ("string" === i) return $.quoteString(e);
        if ("function" == typeof e.toJSON) return $.toJSON(e.toJSON());
        if ("date" === i) {
            var s = e.getUTCMonth() + 1,
                o = e.getUTCDate(),
                l = e.getUTCFullYear(),
                d = e.getUTCHours(),
                u = e.getUTCMinutes(),
                c = e.getUTCSeconds(),
                h = e.getUTCMilliseconds();
            return 10 > s && (s = "0" + s), 10 > o && (o = "0" + o), 10 > d && (d = "0" + d), 10 > u && (u = "0" + u), 10 > c && (c = "0" + c), 100 > h && (h = "0" + h), 10 > h && (h = "0" + h), '"' + l + "-" + s + "-" + o + "T" + d + ":" + u + ":" + c + "." + h + 'Z"'
        }
        if (t = [], $.isArray(e)) {
            for (a = 0; a < e.length; a++) t.push($.toJSON(e[a]) || "null");
            return "[" + t.join(",") + "]"
        }
        if ("object" == typeof e) {
            for (a in e)
                if (hasOwn.call(e, a)) {
                    if (i = typeof a, "number" === i) n = '"' + a + '"';
                    else {
                        if ("string" !== i) continue;
                        n = $.quoteString(a)
                    }
                    i = typeof e[a], "function" !== i && "undefined" !== i && (r = $.toJSON(e[a]), t.push(n + ":" + r))
                }
            return "{" + t.join(",") + "}"
        }
    }, $.evalJSON = "object" == typeof JSON && JSON.parse ? JSON.parse : function(str) {
        return eval("(" + str + ")")
    }, $.secureEvalJSON = "object" == typeof JSON && JSON.parse ? JSON.parse : function(str) {
        var filtered = str.replace(/\\["\\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "");
        if (/^[\],:{}\s]*$/.test(filtered)) return eval("(" + str + ")");
        throw new SyntaxError("Error parsing JSON, source is not valid.")
    }, $.quoteString = function(e) {
        return e.match(escape) ? '"' + e.replace(escape, function(e) {
            var t = meta[e];
            return "string" == typeof t ? t : (t = e.charCodeAt(), "\\u00" + Math.floor(t / 16).toString(16) + (t % 16).toString(16))
        }) + '"' : '"' + e + '"'
    }
}(jQuery),
function(e) {
    e.event.special.textchange = {
        setup: function() {
            e(this).data("lastValue", "true" === this.contentEditable ? e(this).html() : e(this).val()), e(this).bind("keyup.textchange", e.event.special.textchange.handler), e(this).bind("cut.textchange paste.textchange input.textchange", e.event.special.textchange.delayedHandler)
        },
        teardown: function() {
            e(this).unbind(".textchange")
        },
        handler: function() {
            e.event.special.textchange.triggerIfChanged(e(this))
        },
        delayedHandler: function() {
            var t = e(this);
            setTimeout(function() {
                e.event.special.textchange.triggerIfChanged(t)
            }, 25)
        },
        triggerIfChanged: function(e) {
            var t = "true" === e[0].contentEditable ? e.html() : e.val();
            t !== e.data("lastValue") && (e.trigger("textchange", [e.data("lastValue")]), e.data("lastValue", t))
        }
    }, e.event.special.hastext = {
        setup: function() {
            e(this).bind("textchange", e.event.special.hastext.handler)
        },
        teardown: function() {
            e(this).unbind("textchange", e.event.special.hastext.handler)
        },
        handler: function(t, a) {
            "" === a && a !== e(this).val() && e(this).trigger("hastext")
        }
    }, e.event.special.notext = {
        setup: function() {
            e(this).bind("textchange", e.event.special.notext.handler)
        },
        teardown: function() {
            e(this).unbind("textchange", e.event.special.notext.handler)
        },
        handler: function(t, a) {
            "" === e(this).val() && e(this).val() !== a && e(this).trigger("notext")
        }
    }
}(jQuery), $(document).ready(function() {
    function e() {
        var e = document.getElementById("video-bg");
        e.paused ? (e.play(), $(".js-video-pause").addClass("active"), $(".js-video-play").removeClass("active")) : (e.pause(), $(".js-video-play").addClass("active"), $(".js-video-pause").removeClass("active"));
    }
    function e1() {
        var e1 = document.getElementById("video-bg");
        e1.muted ? (e1.muted=false, $(".js-video-volume-on").addClass("active"), $(".js-video-volume-off").removeClass("active")) : (e1.muted=true, $(".js-video-volume-off").addClass("active"), $(".js-video-volume-on").removeClass("active"))
    }
    var t = {
        Android: function() {
            return navigator.userAgent.match(/Android/i)
        },
        BlackBerry: function() {
            return navigator.userAgent.match(/BlackBerry/i)
        },
        iOS: function() {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i)
        },
        Opera: function() {
            return navigator.userAgent.match(/Opera Mini/i)
        },
        Windows: function() {
            return navigator.userAgent.match(/IEMobile/i)
        },
        any: function() {
            return t.Android() || t.BlackBerry() || t.iOS() || t.Opera() || t.Windows()
        }
    };
    t.any() && $("body").addClass("mobile"), $("input, select").styler(), $(".b-features video").attr("id", "video-bg"), $(".js-video-play").click(function(t) {
        t.preventDefault(), e()
    }), $(".js-video-pause").click(function(t) {
        t.preventDefault(), e()
    }), $(".js-video-volume-on").click(function(t) {
        t.preventDefault(), e1()
    }), $(".js-video-volume-off").click(function(t) {
        t.preventDefault(), e1()
    }), $(".latest-news__item__image img").each(function() {
        var e = $(this);
        e.height() < 80 && e.height(80).css("width", "auto")
    }), $(".js-clients-slider").bxSlider({
        auto: !1,
        autoHover: !0,
        slideWidth: 152,
        minSlides: 6,
        maxSlides: 6,
        moveSlides: 1,
        slideMargin: 10,
        pager: !1,
        touchEnabled: !1
    }), $(".js-clients-slider2").bxSlider({
        auto: !1,
        autoHover: !0,
        slideWidth: 167,
        minSlides: 4,
        maxSlides: 4,
        moveSlides: 1,
        slideMargin: 10,
        pager: !1,
        touchEnabled: !1
    }), $(".popup").fancybox({
        padding: 0
    });
	var a = $(".js-product-large-photo").bxSlider({
        mode: "fade",
        speed: 0,
        controls: !1,
        pager: !1,
        auto: !1,
        infiniteLoop: !1
    });
    $(".js-product-small-photo .slide").each(function() {
        if ($(this).hasClass("active")) {
            var e = $(this).index();
            a.goToSlide(e)
        }
    }), $(".js-product-small-photo").delegate(".slide", "click", function() {
        $(".js-product-small-photo .slide").removeClass("active"), $(this).addClass("active");
        var e = $(this).index();
        a.goToSlide(e)
    })
}), $(document).ready(function() {
    function e(e, t) {
        var a = "";
        if ("email" == t) var a = /^[a-zA-Z0-9][-\._a-zA-Z0-9]+@(?:[a-zA-Z0-9][-a-zA-Z0-9]+\.)+[a-zA-Z]{2,6}$/;
        if ("phone" == t) var a = /^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,20}$/;
        if ("name" == t) var a = /^[a-zA-Zа-яА-Я][a-zA-Zа-яА-Я0-9\s]{1,220}$/;
        return e.match(a) ? !0 : !1
    }
    var t, a, n = "";
    $(".required").bind("textchange", function() {
        var t = $(this).attr("name");
        e($(this).val(), t) ? $(this).parent().removeClass("err").addClass("ok") : $(this).parent().removeClass("ok").addClass("err"), $(this).hasClass("question") && ("" == $(this).val() ? $(this).parent().removeClass("ok").addClass("err") : $(this).parent().removeClass("err").addClass("ok"))
    }), $(".submit").click(function() {
        if (n = $(this).parents("form").data("type"), $(this).parents("form").find(".required").each(function() {
                var t = $(this).attr("name");
                e($(this).val(), t) ? ($(this).parent().removeClass("err").addClass("ok"), a = $(this).parent().find(".ok").length) : ($(this).parent().removeClass("ok").addClass("err"), a = $(this).parent().find(".ok").length), $(this).hasClass("question") && ("" == $(this).val() ? ($(this).parent().removeClass("ok").addClass("err"), a = $(this).parent().find(".ok").length) : ($(this).parent().removeClass("err").addClass("ok"), a = $(this).parent().find(".ok").length))
            }), t = $(this).parents("form").find(".required").length, a = $(this).parents("form").find(".ok").length, t == a) {
            var r = {};
            r.phone = $(this).parents("form").find(".phone").val(), r.email = $(this).parents("form").find(".email").val(), r.name = $(this).parents("form").find(".name").val(), r.question = $(this).parents("form").find(".question").val(), r.formtype = n;
            var i = $(this).parents("form").data("target");
            $(".form-group input").val(""), $(".form-group textarea").val(""), $(".form-group input:disabled").val("+7"), $(".form-group").removeClass("ok").removeClass("err"), $(".form-group label").show(), n = "", $.ajax({
                url: "php/mail.php",
                type: "POST",
                data: "jsonData=" + $.toJSON(r),
                success: function() {
                    $.fancybox.close(), $.fancybox({
                        href: "#thank-you",
                        padding: 0
                    }), reachGoalFunc(i)
                }
            })
        }
    })
});

$(document).ready(function() {
    $('.select-filter, .price-sort-radio').change(function () {
        $('form.filter').submit();
    });

    $(document).on('change', 'select#make', function () {
        $('div.filter-index').addClass('ajax-shadow');
        $.post('/ajax/filter.ajax.php', {make: $(this).val()}, function (result) {
            $('div.filter-index').removeClass('ajax-shadow').html(result).find('select').styler();
        });
    });
    $(document).on('change', 'select#model', function () {
        $('div.filter-index').addClass('ajax-shadow');
        $.post('/ajax/filter.ajax.php', {make: $('select#make').val(), model: $(this).val()}, function (result) {
            $('div.filter-index').removeClass('ajax-shadow').html(result).find('select').styler();
        });
    });

    $(".product-types__item").hover(function() {
            $(this).children().css("color", "#000");
            $(this).children().css("border-color", "rgba(0,0,0, 0.5)");
        },
        function() {
            $(this).children().css("color", "#f33b2b");
            $(this).children().css("border-color", "rgba(243,59,43, 0.5)");
        });
	$('#toTop').click(function () {$('body,html').animate({scrollTop: 0}, 400); return false;});
	
	$(".sidebar-video").hover(function() {
		$( ".sidebar-video .playbtn" ).animate({opacity: 1,}, 50);
		$( ".sidebar-video .dark" ).animate({opacity: 0.1,}, 50);

	},
        function() {
			$( ".sidebar-video .playbtn" ).animate({opacity: 0.8,}, 50);
		$( ".sidebar-video .dark" ).animate({opacity: 0.3,}, 50);
		}
		
		);
});