/* jQuery Form Styler v1.5.6 | (c) Dimox | https://github.com/Dimox/jQueryFormStyler */
(function(c){c.fn.styler=function(v){var d=c.extend({wrapper:"form",idSuffix:"-styler",filePlaceholder:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",fileBrowse:"\u041e\u0431\u0437\u043e\u0440...",selectPlaceholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",selectSearchPlaceholder:"\u041f\u043e\u0438\u0441\u043a...",
selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}},v);return this.each(function(){function x(){var c="",m="",b="",w="";void 0!==a.attr("id")&&""!==a.attr("id")&&(c=' id="'+a.attr("id")+d.idSuffix+'"');void 0!==a.attr("title")&&""!==a.attr("title")&&(m=' title="'+a.attr("title")+'"');void 0!==a.attr("class")&&""!==a.attr("class")&&(b=" "+a.attr("class"));for(var t=a.data(),g=0;g<t.length;g++)""!==
t[g]&&(w+=" data-"+g+'="'+t[g]+'"');this.id=c+w;this.title=m;this.classes=b}var a=c(this);if(a.is(":checkbox"))a.each(function(){if(1>a.parent("div.jq-checkbox").length){var d=function(){var d=new x,b=c("<div"+d.id+' class="jq-checkbox'+d.classes+'"'+d.title+'><div class="jq-checkbox__div"></div></div>');a.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(b).prependTo(b);b.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"});a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.on("click.styler",function(){b.is(".disabled")||(a.is(":checked")?(a.prop("checked",!1),b.removeClass("checked")):(a.prop("checked",!0),b.addClass("checked")),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.on("change.styler",function(){a.is(":checked")?
b.addClass("checked"):b.removeClass("checked")}).on("keydown.styler",function(a){32==a.which&&b.click()}).on("focus.styler",function(){b.is(".disabled")||b.addClass("focused")}).on("blur.styler",function(){b.removeClass("focused")})};d();a.on("refresh",function(){a.off(".styler").parent().before(a).remove();d()})}});else if(a.is(":radio"))a.each(function(){if(1>a.parent("div.jq-radio").length){var q=function(){var m=new x,b=c("<div"+m.id+' class="jq-radio'+m.classes+'"'+m.title+'><div class="jq-radio__div"></div></div>');
a.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(b).prependTo(b);b.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"});a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.on("click.styler",function(){b.is(".disabled")||(b.closest(d.wrapper).find('input[name="'+a.attr("name")+'"]').prop("checked",
!1).parent().removeClass("checked"),a.prop("checked",!0).parent().addClass("checked"),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.on("change.styler",function(){a.parent().addClass("checked")}).on("focus.styler",function(){b.is(".disabled")||b.addClass("focused")}).on("blur.styler",function(){b.removeClass("focused")})};q();a.on("refresh",function(){a.off(".styler").parent().before(a).remove();q()})}});else if(a.is(":file"))a.css({position:"absolute",
top:0,right:0,width:"100%",height:"100%",opacity:0,margin:0,padding:0}).each(function(){if(1>a.parent("div.jq-file").length){var q=function(){var m=new x,b=c("<div"+m.id+' class="jq-file'+m.classes+'"'+m.title+' style="display: inline-block; position: relative; overflow: hidden"></div>'),q=c('<div class="jq-file__name">'+d.filePlaceholder+"</div>").appendTo(b);c('<div class="jq-file__browse">'+d.fileBrowse+"</div>").appendTo(b);a.after(b);b.append(a);a.is(":disabled")&&b.addClass("disabled");a.on("change.styler",
function(){var c=a.val();if(a.is("[multiple]"))for(var c="",g=a[0].files,m=0;m<g.length;m++)c+=(0<m?", ":"")+g[m].name;q.text(c.replace(/.+[\\\/]/,""));""===c?(q.text(d.filePlaceholder),b.removeClass("changed")):b.addClass("changed")}).on("focus.styler",function(){b.addClass("focused")}).on("blur.styler",function(){b.removeClass("focused")}).on("click.styler",function(){b.removeClass("focused")})};q();a.on("refresh",function(){a.off(".styler").parent().before(a).remove();q()})}});else if(a.is("select"))a.each(function(){if(1>
a.parent("div.jqselect").length){var q=function(){function m(a){a.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(a){var b=null;"mousewheel"==a.type?b=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"==a.type&&(b=40*a.originalEvent.detail);b&&(a.stopPropagation(),a.preventDefault(),c(this).scrollTop(b+c(this).scrollTop()))})}function b(){for(var a=0,c=g.length;a<c;a++){var b="",d="",k=b="",h="",l="";g.eq(a).prop("selected")&&(d="selected sel");g.eq(a).is(":disabled")&&(d="disabled");
g.eq(a).is(":selected:disabled")&&(d="selected sel disabled");void 0!==g.eq(a).attr("class")&&(k=" "+g.eq(a).attr("class"),l=' data-jqfs-class="'+g.eq(a).attr("class")+'"');var f=g.eq(a).data(),m;for(m in f)""!==f[m]&&(b+=" data-"+m+'="'+f[m]+'"');b="<li"+l+b+' class="'+d+k+'">'+g.eq(a).html()+"</li>";g.eq(a).parent().is("optgroup")&&(void 0!==g.eq(a).parent().attr("class")&&(h=" "+g.eq(a).parent().attr("class")),b="<li"+l+' class="'+d+k+" option"+h+'">'+g.eq(a).html()+"</li>",g.eq(a).is(":first-child")&&
(b='<li class="optgroup'+h+'">'+g.eq(a).parent().attr("label")+"</li>"+b));y+=b}}function q(){var r=new x,e=c("<div"+r.id+' class="jq-selectbox jqselect'+r.classes+'" style="display: inline-block; position: relative; z-index:'+d.singleSelectzIndex+'"><div class="jq-selectbox__select"'+r.title+' style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>');a.css({margin:0,padding:0}).after(e).prependTo(e);
var p=c("div.jq-selectbox__select",e),n=c("div.jq-selectbox__select-text",e),r=g.filter(":selected");b();var k="";d.selectSearch&&(k='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+d.selectSearchPlaceholder+'"></div><div class="jq-selectbox__not-found">'+d.selectSearchNotFound+"</div>");var h=c('<div class="jq-selectbox__dropdown" style="position: absolute">'+k+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+y+"</ul></div>");
e.append(h);var l=c("ul",h),f=c("li",h),u=c("input",h),B=c("div.jq-selectbox__not-found",h).hide();f.length<d.selectSearchLimit&&u.parent().hide();var s=0,C=0;f.each(function(){var a=c(this);a.css({display:"inline-block","white-space":"nowrap"});a.innerWidth()>s&&(s=a.innerWidth(),C=a.width());a.css({display:"block"})});var k=e.clone().appendTo("body").width("auto"),t=k.width();k.remove();t==e.width()&&(n.width(C),s+=e.find("div.jq-selectbox__trigger").width());s>e.width()&&h.width(s);""===a.val()?
(k=a.data("placeholder"),void 0===k&&(k=d.selectPlaceholder),n.text(k).addClass("placeholder")):n.text(r.text());""===g.first().text()&&""!==a.data("placeholder")&&f.first().hide();a.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var v=e.outerHeight(),z=u.outerHeight(),A=l.css("max-height"),k=f.filter(".selected");1>k.length&&f.first().addClass("selected sel");void 0===f.data("li-height")&&f.data("li-height",f.outerHeight());var w=h.css("top");"auto"==h.css("left")&&
h.css({left:0});"auto"==h.css("top")&&h.css({top:v});h.hide();k.length&&(g.first().text()!=r.text()&&e.addClass("changed"),e.data("jqfs-class",k.data("jqfs-class")),e.addClass(k.data("jqfs-class")));if(a.is(":disabled"))return e.addClass("disabled"),!1;p.click(function(){c("div.jq-selectbox").filter(".opened").length&&d.onSelectClosed.call(c("div.jq-selectbox").filter(".opened"));a.focus();if(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)){var b=c(window),k=f.data("li-height"),n=e.offset().top,
p=b.height()-v-(n-b.scrollTop()),r=d.selectVisibleOptions,q=5*k,s=k*r;0<r&&6>r&&(q=s);0===r&&(s="auto");var r=function(){h.height("auto").css({bottom:"auto",top:w});var a=function(){l.css("max-height",Math.floor((p-20-z)/k)*k)};a();l.css("max-height",s);"none"!=A&&l.css("max-height",A);p<h.outerHeight()+20&&a()},t=function(){h.height("auto").css({top:"auto",bottom:w});var a=function(){l.css("max-height",Math.floor((n-b.scrollTop()-20-z)/k)*k)};a();l.css("max-height",s);"none"!=A&&l.css("max-height",
A);n-b.scrollTop()-20<h.outerHeight()+20&&a()};!0===d.selectSmartPositioning?p>q+z+20?r():t():!1===d.selectSmartPositioning&&p>q+z+20&&r();c("div.jqselect").css({zIndex:d.singleSelectzIndex-1}).removeClass("opened");e.css({zIndex:d.singleSelectzIndex});h.is(":hidden")?(c("div.jq-selectbox__dropdown:visible").hide(),h.show(),e.addClass("opened focused"),d.onSelectOpened.call(e)):(h.hide(),e.removeClass("opened"),c("div.jq-selectbox").filter(".opened").length&&d.onSelectClosed.call(e));u.length&&(u.val("").keyup(),
B.hide(),u.keyup(function(){var b=c(this).val();f.each(function(){c(this).html().match(RegExp(".*?"+b+".*?","i"))?c(this).show():c(this).hide()});""===g.first().text()&&""!==a.data("placeholder")&&f.first().hide();1>f.filter(":visible").length?B.show():B.hide()}));f.filter(".selected").length&&(0!==l.innerHeight()/k%2&&(k/=2),l.scrollTop(l.scrollTop()+f.filter(".selected").position().top-l.innerHeight()/2+k));m(l);return!1}});f.hover(function(){c(this).siblings().removeClass("selected")});f.filter(".selected").text();
f.filter(".selected").text();f.filter(":not(.disabled):not(.optgroup)").click(function(){a.focus();var b=c(this),f=b.text();if(!b.is(".selected")){var l=b.index(),l=l-b.prevAll(".optgroup").length;b.addClass("selected sel").siblings().removeClass("selected sel");g.prop("selected",!1).eq(l).prop("selected",!0);n.text(f);e.data("jqfs-class")&&e.removeClass(e.data("jqfs-class"));e.data("jqfs-class",b.data("jqfs-class"));e.addClass(b.data("jqfs-class"));a.change()}h.hide();e.removeClass("opened");d.onSelectClosed.call(e)});
h.mouseout(function(){c("li.sel",h).addClass("selected")});a.on("change.styler",function(){n.text(g.filter(":selected").text()).removeClass("placeholder");f.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel");g.first().text()!=f.filter(".selected").text()?e.addClass("changed"):e.removeClass("changed")}).on("focus.styler",function(){e.addClass("focused");c("div.jqselect").not(".focused").removeClass("opened").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",
function(){e.removeClass("focused")}).on("keydown.styler keyup.styler",function(b){var c=f.data("li-height");n.text(g.filter(":selected").text());f.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel");38!=b.which&&37!=b.which&&33!=b.which&&36!=b.which||l.scrollTop(l.scrollTop()+f.filter(".selected").position().top);40!=b.which&&39!=b.which&&34!=b.which&&35!=b.which||l.scrollTop(l.scrollTop()+f.filter(".selected").position().top-l.innerHeight()+c);13==b.which&&
(b.preventDefault(),h.hide(),e.removeClass("opened"),d.onSelectClosed.call(e))}).on("keydown.styler",function(a){32==a.which&&(a.preventDefault(),p.click())});c(document).on("click",function(a){c(a.target).parents().hasClass("jq-selectbox")||"OPTION"==a.target.nodeName||(c("div.jq-selectbox").filter(".opened").length&&d.onSelectClosed.call(c("div.jq-selectbox").filter(".opened")),u.length&&u.val("").keyup(),h.hide().find("li.sel").addClass("selected"),e.removeClass("focused opened"))})}function t(){var d=
new x,e=c("<div"+d.id+' class="jq-select-multiple jqselect'+d.classes+'"'+d.title+' style="display: inline-block; position: relative"></div>');a.css({margin:0,padding:0}).after(e);b();e.append("<ul>"+y+"</ul>");var p=c("ul",e).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),n=c("li",e).attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none","white-space":"nowrap"}),
d=a.attr("size"),k=p.outerHeight(),h=n.outerHeight();void 0!==d&&0<d?p.css({height:h*d}):p.css({height:4*h});k>e.height()&&(p.css("overflowY","scroll"),m(p),n.filter(".selected").length&&p.scrollTop(p.scrollTop()+n.filter(".selected").position().top));a.prependTo(e).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});if(a.is(":disabled"))e.addClass("disabled"),g.each(function(){c(this).is(":selected")&&n.eq(c(this).index()).addClass("selected")});else if(n.filter(":not(.disabled):not(.optgroup)").click(function(b){a.focus();
var f=c(this);b.ctrlKey||b.metaKey||f.addClass("selected");b.shiftKey||f.addClass("first");b.ctrlKey||(b.metaKey||b.shiftKey)||f.siblings().removeClass("selected first");if(b.ctrlKey||b.metaKey)f.is(".selected")?f.removeClass("selected first"):f.addClass("selected first"),f.siblings().removeClass("first");if(b.shiftKey){var d=!1,e=!1;f.siblings().removeClass("selected").siblings(".first").addClass("selected");f.prevAll().each(function(){c(this).is(".first")&&(d=!0)});f.nextAll().each(function(){c(this).is(".first")&&
(e=!0)});d&&f.prevAll().each(function(){if(c(this).is(".selected"))return!1;c(this).not(".disabled, .optgroup").addClass("selected")});e&&f.nextAll().each(function(){if(c(this).is(".selected"))return!1;c(this).not(".disabled, .optgroup").addClass("selected")});1==n.filter(".selected").length&&f.addClass("first")}g.prop("selected",!1);n.filter(".selected").each(function(){var a=c(this),b=a.index();a.is(".option")&&(b-=a.prevAll(".optgroup").length);g.eq(b).prop("selected",!0)});a.change()}),g.each(function(a){c(this).data("optionIndex",
a)}),a.on("change.styler",function(){n.removeClass("selected");var a=[];g.filter(":selected").each(function(){a.push(c(this).data("optionIndex"))});n.not(".optgroup").filter(function(b){return-1<c.inArray(b,a)}).addClass("selected")}).on("focus.styler",function(){e.addClass("focused")}).on("blur.styler",function(){e.removeClass("focused")}),k>e.height())a.on("keydown.styler",function(a){38!=a.which&&37!=a.which&&33!=a.which||p.scrollTop(p.scrollTop()+n.filter(".selected").position().top-h);40!=a.which&&
39!=a.which&&34!=a.which||p.scrollTop(p.scrollTop()+n.filter(".selected:last").position().top-p.innerHeight()+2*h)})}var g=c("option",a),y="";if(a.is("[multiple]")){var v=navigator.userAgent.match(/Android/i)?!0:!1,D=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1;v||D||t()}else q()};q();a.on("refresh",function(){a.off(".styler").parent().before(a).remove();q()})}});else if(a.is(":reset"))a.on("click",function(){setTimeout(function(){a.closest(d.wrapper).find("input, select").trigger("refresh")},
1)})}).promise().done(function(){d.onFormStyled.call()})}})(jQuery);